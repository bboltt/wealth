**Prospecting Private Wealth Management Clients**

### 1. Summary
The **Prospecting Private Wealth Management (PWM) Clients** system is a machine learning-driven approach aimed at identifying high-potential prospects for PWM services. The system employs clustering models to analyze patterns from existing PWM clients and applies these insights to identify non-PWM clients with similar profiles who are likely to convert to PWM. By incorporating data-driven decision-making, this prospecting system enhances targeting strategies, providing wealth managers with a prioritized list of prospects likely to become PWM clients.

### 1.1 Product Use, Purpose, and Scope
Here’s the detailed section 1.1 for the **Prospecting PWM Clients System**:

### 1.1 Product Use, Purpose, and Scope

The **Prospecting PWM Clients System** is designed as a data-driven tool for identifying potential clients who are likely to convert to Private Wealth Management (PWM) clients. The system leverages machine learning models to analyze and segment existing PWM clients and prospects based on multiple data points, creating insights for business teams and wealth advisors. 

The primary purpose of this system is to streamline the prospecting process by pinpointing consumers who demonstrate similarities to existing high-net-worth or affluent PWM clients. By analyzing consumer behavior, product usage, and financial patterns, the system uncovers high-potential clients for targeted outreach, allowing wealth management teams to focus their efforts on clients most likely to convert.

The **Prospecting PWM Clients System** acts as an integral part of the broader WealthClientIQ initiative, feeding insights and prioritized leads into the existing client management pipeline. Advisors can use these insights to guide conversations, better understand their client base, and make more informed decisions, ultimately leading to an increase in client conversion rates, improved client relationships, and enhanced product penetration.

Key outcomes include:
- Identification of high-potential PWM prospects using clustering analysis of existing PWM clients.
- Data-driven insights that facilitate more effective prospecting and advisory processes.
- Continuous updates and insights based on evolving data, improving the model over time.
  
The system covers all customer segments, ranging from affluent households to high-net-worth clients. It incorporates data from various sources, including customer profiles, financial transactions, and historical patterns, to provide wealth advisors with a focused list of prospects who resemble the characteristics of existing PWM clients. This approach allows for more precise targeting and ensures that outreach efforts are aligned with the actual needs and interests of potential PWM clients. 

In scope, the system generates monthly updates on high-potential prospects, highlighting the most relevant targets for further engagement. This improves efficiency and productivity for the wealth advisors by reducing manual prospecting efforts and supporting data-backed decision-making in client management.

### 1.2 Actions Taken Based on the Product Output
The tool provides wealth advisors with a ranked list of prospects, along with reason codes derived from cluster insights. These insights allow wealth managers to:
1. Prioritize their client outreach by focusing on clients who resemble current PWM clients.
2. Use data-driven insights to facilitate more informed client conversations.
3. Generate monthly prospecting lists, which are updated regularly to reflect changes in client behavior or profile.

### 1.3 Known Risks, Weaknesses, Limitations, and Gaps
Like any data-driven model, the **Prospecting PWM Clients** system has inherent risks and limitations:
- **Historical Data Bias:** The model is based on historical Regions Bank data, which may introduce biases towards certain client profiles.
- **Advisor Discretion:** While the model provides suggestions, it cannot replace the personal judgment and discretion of wealth advisors. It is a tool to assist, not to automate, client decision-making.
- **12-Month Data Requirement:** The model relies on at least 12 months of client data, potentially excluding clients with insufficient history.

### 1.4 Validation Rating & Supervisory Feedback (To be updated post-review)

### 1.5 Long-Term Plan
- **New Feature Exploration:** Continuously integrate new data points into the model, ensuring the clustering and prospecting processes are comprehensive.
- **Supplementary Models:** Introduce additional models for each product segment, enhancing overall targeting precision.
- **Post-Process Rules:** Implement business-specific rules to fine-tune model outputs based on wealth management requirements.
- **Business Feedback Loop:** Incorporate ongoing feedback from wealth advisors and leadership to ensure the model remains aligned with business needs.
- **Model Drift Monitoring:** Build a continuous monitoring system to ensure model performance over time.

### 2. Model Development

### 2.1 Data Sources
The model sources multiple data tables from Regions Bank's data lake. These sources are transformed into features to be used in the model pipeline. The table below lists key data sources:

| Source       | Data Tables                           | Description                                           |
|--------------|---------------------------------------|-------------------------------------------------------|
| PWM Client   | dm_r3.pwm_mstr_dtl, pwm_calculated_revenue | Data on PWM clients' balance, revenue, and products    |
| Consumer Data | dm_r3.consumer_summary              | Demographic and transactional data for all consumers   |
| Wealth Segment | sl1_wm.pwm_segment                   | Includes wealth segment details for PWM and non-PWM    |

### 2.2 Population and Target Definition

#### 2.2.1 Population Selection
We identify the target population by selecting non-PWM clients from the consumer base. Clients without PWM relationships in a defined lookback period are considered potential prospects.

#### 2.2.2 Target Definition
The goal is to predict which clients will convert to PWM based on similarity to existing PWM clients. Each consumer is scored based on their distance to a cluster center, with those closer to a center considered more likely to convert.

### 2.3 Feature Engineering

#### Sparse and Dense Features
- **Sparse Features:** Categorical features like state, zip code, and product types.
- **Dense Features:** Numeric features, including balances, transaction amounts, and account longevity.

Both types of features undergo standardization and encoding to prepare them for modeling.

### 2.4 Model Methodology



### 2.3 Model Development

#### 2.3.1 Methodology

The Private Wealth Management (PWM) prospecting system employs a data-driven approach using clustering and similarity scoring to identify high-potential prospects for PWM services. The key steps in the methodology include feature engineering, clustering, and cosine similarity calculations.

**1. Data Preprocessing and Feature Engineering:**
The system processes transaction and demographic data from the `dm_r3.pwm_mstr_dtl_daily` and `sb_dsp.pwm_customer_segmentation_final` tables. The **FeatureEngineeringPipeline** class handles the transformation and creation of features. Key features generated include:

- **Household longevity**: Number of days a household has been active.
- **Balance statistics**: Metrics such as current balance (`curr_bal_amt`), ledger balance (`ledger_bal_amt`), and derived statistics (mean, max, min, std deviation) over different time periods.
- **Product diversity**: Number of distinct products a household has engaged with.
- **Geographic features**: State-level data capturing a household’s presence across states.
- **Recent product activity**: Counts of products opened in the past 30, 90, 180, and 365 days.

Each feature is normalized to ensure they have zero mean and unit variance. This enables the model to handle different scales of features efficiently and prevents any single feature from dominating the clustering process.

**2. Clustering using K-Means:**
Once features are engineered, **K-Means clustering** is applied to segment existing PWM clients. The clustering model identifies **k** distinct groups based on household behavior, product holdings, and financial activity. Each cluster represents a different segment of PWM clients, capturing a variety of characteristics such as high-balance holders, diversified product users, or geographically spread clients.

The pipeline uses a vector assembler and standard scaler to combine and scale the feature set before passing it to the K-Means model. The centroids (cluster centers) produced by the K-Means algorithm represent the 'average' profile of each cluster, which is then used to calculate similarities between PWM clients and prospects.

**3. Calculating Similarity Scores:**
For prospective clients, the cosine similarity between their feature vectors and the cluster centroids is computed. This similarity score measures how closely a prospect matches the profile of each PWM cluster. Prospective clients are ranked based on their similarity to the nearest cluster.

The system cross-joins prospective clients (filtered to exclude existing PWM clients) with the pre-computed cluster centroids and calculates similarity using the following formula:

\[
\text{Cosine Similarity} = \frac{A \cdot B}{||A|| \times ||B||}
\]

where \(A\) is the feature vector of a prospect and \(B\) is the centroid of a cluster. The prospect with the highest similarity score is most likely to convert into a PWM client.

**4. Evaluation:**
The performance of the model is evaluated by comparing the system’s recommendations to actual client conversion data over a defined evaluation period. Prospective clients recommended by the system are checked against a validation dataset to measure recall — the percentage of actual PWM conversions captured by the model’s top-N prospects.

**Precision and recall metrics** are computed based on true positives (correctly identified prospects), false positives (incorrectly identified), and false negatives (missed PWM prospects). This evaluation ensures that the model is both identifying high-potential clients effectively and minimizing errors.

---

This section describes the **methodology** from preprocessing to evaluation. Let me know if you would like any adjustments before moving to the next section or if there’s anything more specific you would like me to include.
#### Hyperparameters:
- **Number of Clusters (K):** Determined via grid search to balance model accuracy with interpretability.
- **Scaler:** StandardScaler is used to normalize continuous features.

### 2.5 Outcome Analysis
The output includes a list of ranked prospects, each with a distance to the nearest cluster center and reason codes explaining their likelihood to convert. The model's recall (percentage of correct conversions identified) is tracked, with the current recall standing at 72% for affluent prospects and 78% for high-net-worth prospects.

### 3. Model Implementation

### 3.1 Model Config
The configuration file (`config.yaml`) stores details on data sources, feature lists, model parameters, and output locations. The system relies on a combination of PySpark and Python to run model training and scoring jobs.

### 3.2 Production Pipeline
The model operates on a monthly schedule, running data ingestion, feature engineering, and clustering. Scoring occurs at the end of each month, generating a prospect list for wealth managers to review.

### 4. PowerBI Integration
The prospecting model integrates with PowerBI, where wealth advisors can view ranked prospects and reason codes. The dashboard provides an interactive way to explore prospecting insights and track conversion outcomes over time.

### 5. Governance

### 5.1 Model Monitoring
Regular monitoring ensures the model maintains performance over time, with drift detection in place to capture changes in client behavior.

### 6. Controls

### 6.1 Change Management
Any changes to the model code or input data sources must pass through Regions Bank's established change control process. All modifications are version-controlled in GitHub, ensuring accountability and traceability.

---

This documentation outlines the structure, development, and purpose of the **Prospecting Private Wealth Management Clients** system, providing a detailed look into the functionality, data sources, and model governance.
